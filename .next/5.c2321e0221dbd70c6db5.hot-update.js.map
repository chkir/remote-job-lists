{"version":3,"sources":["/Applications/MAMP/code/sandbox/remote-job-lists/pages/job.js"],"names":["Job","onSearch","searchTerm","Router","push","pathname","query","search","job","props","htmlDescription","description","referrer","marked","tags","split","tagsJsx","map","t","i","marginTop","__html","company","getInitialProps","fetch","id","res","json","data"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;IAEMA,G;;;;;;;;;;;;;;;oLAEFC,Q;+HAAW,iBAAOC,UAAP;AAAA;AAAA;AAAA;AAAA;AACPC,gCAAA,mDAAAA,CAAOC,IAAP,CAAY;AACRC,8CAAU,GADF;AAERC,2CAAO;AACHC,gDAAQL;AADL;AAFC,iCAAZ;;AADO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,a;;;;;;;;;;iCASF;AAAA,gBACGM,GADH,GACW,KAAKC,KADhB,CACGD,GADH;;AAEL,gBAAIE,kBAAkBF,IAAIG,WAA1B;;AAEA,gBAAIH,IAAII,QAAJ,KAAiB,UAArB,EAAiC;AAC7BF,kCAAkB,8CAAAG,CAAOL,IAAIG,WAAX,CAAlB;AACH;;AAED,gBAAMG,OAAON,IAAIM,IAAJ,CAASC,KAAT,CAAe,GAAf,CAAb;AACA,gBAAMC,UAAUF,KAAKG,GAAL,CAAS,UAACC,CAAD,EAAIC,CAAJ,EAAU;AAC/B,uBAAO,4DAAC,iEAAD,IAAK,MAAMD,CAAX,EAAc,cAAYA,CAAZ,SAAiBC,CAA/B;AAAA;AAAA;AAAA;AAAA,kBAAP;AACH,aAFe,CAAhB;;AAIA,mBACI;AAAC,mFAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACI,4EAAC,oEAAD,IAAQ,UAAU,KAAKlB,QAAvB;AAAA;AAAA;AAAA;AAAA,kBADJ;AAEI;AAAA;AAAA,sBAAK,WAAU,WAAf,EAA2B,OAAO,EAAEmB,WAAW,EAAb,EAAlC;AAAA;AAAA;AAAA;AAAA;AACI;AAAA;AAAA,0BAAK,WAAU,KAAf;AAAA;AAAA;AAAA;AAAA;AACI;AAAA;AAAA,8BAAK,WAAU,oBAAf;AAAA;AAAA;AAAA;AAAA;AACI,wFAAC,qEAAD,IAAU,KAAKZ,GAAf,EAAoB,UAAU,IAA9B;AAAA;AAAA;AAAA;AAAA,8BADJ;AAEI,iGAAK,WAAU,iBAAf;AACI,yDAAyB,EAAEa,QAAQX,eAAV,EAD7B;AAAA;AAAA;AAAA;AAAA;AAFJ,yBADJ;AAMI;AAAA;AAAA,8BAAK,WAAU,gCAAf;AAAA;AAAA;AAAA;AAAA;AACI,wFAAC,wEAAD,IAAa,KAAKF,GAAlB;AAAA;AAAA;AAAA;AAAA,8BADJ;AAEI,wFAAC,oEAAD,IAAS,aAAaA,IAAIc,OAA1B;AAAA;AAAA;AAAA;AAAA,8BAFJ;AAII;AAAA;AAAA,kCAAK,WAAU,MAAf;AAAA;AAAA;AAAA;AAAA;AACI;AAAA;AAAA,sCAAK,WAAU,WAAf;AAAA;AAAA;AAAA;AAAA;AACI;AAAA;AAAA,0CAAI,WAAU,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCADJ;AAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAFJ;AAGKN,2CAHL;AAII;AAAA;AAAA;AAAA;AAAA;AAAA,sCAJJ;AAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAqB;AAAC,6FAAD;AAAA,8CAAM,MAAM,cAAcR,IAAIc,OAA9B,EAAuC,WAAU,OAAjD;AAAA;AAAA;AAAA;AAAA;AAA0Dd,gDAAIc;AAA9D;AAArB;AALJ;AADJ,6BAJJ;AAaI,wFAAC,mEAAD,IAAO,KAAKd,GAAZ;AAAA;AAAA;AAAA;AAAA;AAbJ;AANJ;AADJ;AAFJ,aADJ;AAgCH;;;;;;;;;EAxDa,gD;;AA2DlBR,IAAIuB,eAAJ;AAAA,uHAAsB;AAAA,YAAkBjB,KAAlB,SAAkBA,KAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BACA,0DAAAkB,qCAAwClB,MAAMmB,EAA9C,CADA;;AAAA;AACZC,2BADY;AAAA;AAAA,+BAECA,IAAIC,IAAJ,EAFD;;AAAA;AAEZC,4BAFY;AAAA,0DAIX;AACHpB,iCAAKoB,KAAK,CAAL;AADF,yBAJW;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAtB;;AAAA;AAAA;AAAA;AAAA;;eASe5B,G;AAAf;;;;;;;;;;;;4BApEMA,G","file":"5.c2321e0221dbd70c6db5.hot-update.js","sourcesContent":["import { Component } from 'react';\nimport Link from 'next/link'\nimport Router from 'next/router';\nimport fetch from 'isomorphic-unfetch'\nimport marked from 'marked';\n\nimport Layout from '../components/Layout';\nimport JobTitle from '../components/JobTitle';\nimport ApplyButton from '../components/ApplyButton';\nimport Company from '../components/Company';\nimport Share from '../components/Share';\nimport Tag from '../components/Tag';\nimport Header from '../components/Header';\n\nclass Job extends Component {\n\n    onSearch = async (searchTerm) => {\n        Router.push({\n            pathname: '/',\n            query: {\n                search: searchTerm\n            }\n        })\n    }\n\n    render() {\n        const { job } = this.props;\n        let htmlDescription = job.description;\n\n        if (job.referrer === 'remoteok') {\n            htmlDescription = marked(job.description);\n        }\n\n        const tags = job.tags.split(',');\n        const tagsJsx = tags.map((t, i) => {\n            return <Tag name={t} key={`tag-${t}-${i}`} />\n        });\n\n        return (\n            <Layout>\n                <Header onSearch={this.onSearch} />\n                <div className=\"container\" style={{ marginTop: 60 }}>\n                    <div className=\"row\">\n                        <div className=\"col-sm-12 col-md-8\">\n                            <JobTitle job={job} expanded={true} />\n                            <div className=\"job-description\"\n                                dangerouslySetInnerHTML={{ __html: htmlDescription }}></div>\n                        </div>\n                        <div className=\"col-sm-12 col-md-4 job-sidebar\">\n                            <ApplyButton job={job} />\n                            <Company companyName={job.company} />\n\n                            <div className=\"card\">\n                                <div className=\"card-body\">\n                                    <h5 className=\"card-title\">Related Jobs</h5>\n                                    <p>Find more jobs related to:</p>\n                                    {tagsJsx}\n                                    <hr />\n                                    <p>Find more jobs at <Link href={\"/?search=\" + job.company} className=\"badge\">{job.company}</Link></p>\n                                </div>\n                            </div>\n                            <Share job={job} />\n                        </div>\n                    </div>\n                </div>\n\n\n\n            </Layout >\n        )\n    }\n}\n\nJob.getInitialProps = async function ({ query }) {\n    const res = await fetch(`http://localhost:3000/api/jobs/${query.id}`)\n    const data = await res.json()\n\n    return {\n        job: data[0]\n    }\n}\n\nexport default Job\n\n\n// WEBPACK FOOTER //\n// ./pages/job.js"],"sourceRoot":""}